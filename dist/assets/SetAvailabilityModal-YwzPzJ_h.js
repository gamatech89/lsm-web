import{q as c,F as t,u as m,d as b,j as e,M as y,k as v,D as x,l as h,p,s as l}from"./index-sz0gi067.js";function Y({open:o,onClose:i}){const{t:j}=c(),[s]=t.useForm(),n=m(),{mutate:u,isPending:d}=b({mutationFn:a=>{var r;return p.availability.create({status:a.status,start_date:a.dateRange[0].format("YYYY-MM-DD"),end_date:(r=a.dateRange[1])==null?void 0:r.format("YYYY-MM-DD"),note:a.note})},onSuccess:a=>{l.success(a.data.message),n.invalidateQueries({queryKey:["availability"]}),n.invalidateQueries({queryKey:["dashboard"]}),i(),s.resetFields()},onError:()=>{l.error("Failed to update availability")}});return e.jsx(y,{title:"Set Availability / Report Absence",open:o,onCancel:i,onOk:()=>s.submit(),confirmLoading:d,children:e.jsxs(t,{form:s,layout:"vertical",onFinish:u,children:[e.jsx(t.Item,{name:"status",label:"Status",rules:[{required:!0}],children:e.jsx(v,{options:[{label:"Sick Leave",value:"sick"},{label:"Vacation",value:"vacation"},{label:"Parental Leave",value:"parental"},{label:"Other",value:"other"}]})}),e.jsx(t.Item,{name:"dateRange",label:"Duration",rules:[{required:!0}],children:e.jsx(x.RangePicker,{style:{width:"100%"}})}),e.jsx(t.Item,{name:"note",label:"Reason (Optional)",children:e.jsx(h.TextArea,{})})]})})}export{Y as SetAvailabilityModal};
//# sourceMappingURL=SetAvailabilityModal-YwzPzJ_h.js.map
